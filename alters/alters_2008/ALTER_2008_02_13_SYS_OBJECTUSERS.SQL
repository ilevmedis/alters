ILEV 2008-02-13 CREATE TABLE SYS_OBJECTUSERS
-------------------------------------------------------
CREATE TABLE SYS_OBJECTUSERS (OBJECTUSERSID NUMBER(38) NOT NULL, COMPANYID NUMBER(38) NOT NULL, OBJECTID VARCHAR2(100) NOT NULL, 
  OBJECTPK VARCHAR2(300) NOT NULL, USERNAME VARCHAR2(20), ROLEID NUMBER(38), ISPUBLICTOALLUSERS VARCHAR2(1) NOT NULL);
ALTER TABLE SYS_OBJECTUSERS ADD CONSTRAINT SYS_OBJECTUSERS_PK PRIMARY KEY (OBJECTUSERSID, COMPANYID);
alter table SYS_OBJECTUSERS
  add constraint SYS_USER_SYS_OBJECTUSERS_FK foreign key (username,companyid)
  references sys_user (username,companyid);
alter table SYS_OBJECTUSERS
  add constraint SYS_ROLE_SYS_OBJECTUSERS_FK foreign key (ROLEID,COMPANYID)
  references sys_role (roleid,companyid);

CREATE SEQUENCE SYS_OBJECTUSERS_SEQ START WITH 1;
INSERT INTO SYS_OBJECTUSERS (OBJECTUSERSID, COMPANYID, OBJECTID, 
  OBJECTPK, ISPUBLICTOALLUSERS) SELECT SYS_OBJECTUSERS_SEQ.NEXTVAL, 1, 'SYS_REPORT', 
  'SYS_REPORT.COMPANYID=1|SYS_REPORT.REPORTID=' || REPORTID, '1' FROM SYS_REPORT;

COMMIT;


  